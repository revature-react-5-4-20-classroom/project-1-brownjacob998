(this["webpackJsonpbrownjacob998-project1"]=this["webpackJsonpbrownjacob998-project1"]||[]).push([[0],{45:function(e,t,r){e.exports=r(81)},81:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),s=r(21),c=r.n(s),o=r(8),u=r(15),i=r(11),l=r(12),m=r(82),p=r(83),h=r(84),d=r(85),f=r(19),E=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return n.a.createElement("div",null," ",n.a.createElement(m.a,{color:"light",light:!0,expand:"md"},n.a.createElement(p.a,{href:"/"},"Home"),n.a.createElement(h.a,{className:"mr-auto",navbar:!0},n.a.createElement(d.a,null,n.a.createElement(f.b,{to:"/login",style:{marginRight:10}},"Login")),n.a.createElement(d.a,null,n.a.createElement(f.b,{to:"/users",style:{marginRight:10}},"Users")),n.a.createElement(d.a,null,n.a.createElement(f.b,{to:"/reimbursements"},"Reimbursements")))))}}]),r}(n.a.Component),b=r(6),v=r(14),g=r.n(v),w=r(17),j=r(86),O=r(87),y=r(88),U=r(89),k=r(90),N=r(91),x=r(94),I=r(92),S=r(93),M=r(42),C=r.n(M),D=function e(t,r,a,n,s,c,u){Object(o.a)(this,e),this.userID=void 0,this.userName=void 0,this.password=void 0,this.firstName=void 0,this.lastName=void 0,this.email=void 0,this.role=void 0,this.userID=t,this.userName=r,this.password=a,this.firstName=n,this.lastName=s,this.email=c,this.role=u},L=r(43),P=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(e,a){var n;return Object(o.a)(this,r),(n=t.call(this,e)).username=void 0,n.username=a,n}return r}(Object(L.a)(Error)),R=C.a.create({baseURL:"http://18.232.100.1:3001",withCredentials:!0});function F(e,t){return H.apply(this,arguments)}function H(){return(H=Object(w.a)(g.a.mark((function e(t,r){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.post("/login",{username:t,password:r});case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 8:if(e.prev=8,e.t0=e.catch(0),401!==e.t0.response.status){e.next=14;break}throw new P("Failed to authenticate",t);case 14:throw e.t0;case 15:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function J(){return T.apply(this,arguments)}function T(){return(T=Object(w.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/users");case 2:return t=e.sent,e.abrupt("return",t.data.map((function(e){var t=e.userID,r=e.userName,a=e.password,n=e.firstName,s=e.lastName,c=e.email,o=e.role;return console.log(e),new D(t,r,a,n,s,c,o)})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).setUsername=function(e){a.setState({username:e.currentTarget.value})},a.setPassword=function(e){a.setState({password:e.currentTarget.value})},a.clearError=function(){a.setState({errorMessage:"",isError:!1})},a.attemptLogin=function(){var e=Object(w.a)(g.a.mark((function e(t){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(t),e.prev=2,e.next=5,F(a.state.username,a.state.password);case 5:r=e.sent,a.props.updateUser(r),a.setState({username:"",password:""}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a.setState({password:"",isError:!0,errorMessage:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),a.state={username:"",password:"",isError:!1,errorMessage:""},a}return Object(u.a)(r,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(j.a,{onSubmit:this.attemptLogin},n.a.createElement(O.a,{row:!0},n.a.createElement(y.a,{for:"username",sm:2},"Username"),n.a.createElement(U.a,{sm:6},n.a.createElement(k.a,{onChange:this.setUsername,value:this.state.username,type:"text",name:"username",id:"username",placeholder:"your username"}))),n.a.createElement(O.a,{row:!0},n.a.createElement(y.a,{for:"password",sm:2},"Password"),n.a.createElement(U.a,{sm:6},n.a.createElement(k.a,{onChange:this.setPassword,value:this.state.password,type:"password",name:"password",id:"password",required:!0}))),n.a.createElement(N.a,{color:"info"},"Submit")),n.a.createElement(x.a,{isOpen:this.state.isError},n.a.createElement(I.a,{icon:"danger",toggle:this.clearError},"Error!"),n.a.createElement(S.a,null,this.state.errorMessage)))}}]),r}(n.a.Component),B=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(){return Object(o.a)(this,r),t.apply(this,arguments)}return Object(u.a)(r,[{key:"render",value:function(){return n.a.createElement("table",null,n.a.createElement("tbody",null,this.props.rows.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",null,e))}))))}}]),r}(n.a.Component),z=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).clearError=function(){a.setState({isError:!1,errorMessage:""})},a.state={users:[],isError:!1,errorMessage:""},a}return Object(u.a)(r,[{key:"componentDidMount",value:function(){var e=Object(w.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=this,e.next=4,J();case 4:e.t1=e.sent,e.t2={users:e.t1},e.t0.setState.call(e.t0,e.t2),e.next=12;break;case 9:e.prev=9,e.t3=e.catch(0),this.setState({isError:!0,errorMessage:e.t3.message});case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.isError?n.a.createElement("h3",null,"Error retrieving users: ",this.state.errorMessage):n.a.createElement(B,{rows:this.state.users.map((function(e){return"".concat(e.userID," ").concat(e.userName," ").concat(e.password," ").concat(e.firstName," ").concat(e.lastName," ").concat(e.email," ").concat(e.role)}))})}}]),r}(n.a.Component),A=function(e){Object(i.a)(r,e);var t=Object(l.a)(r);function r(e){var a;return Object(o.a)(this,r),(a=t.call(this,e)).updateUser=function(e){a.setState({loggedInUser:e})},a.state={loggedInUser:null},a}return Object(u.a)(r,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h1",null,"Hello ",this.state.loggedInUser?this.state.loggedInUser.firstName+" "+this.state.loggedInUser.lastName:"guest"),n.a.createElement(f.a,null,n.a.createElement(E,null),n.a.createElement(b.c,null,n.a.createElement(b.a,{path:"/login"}," ",n.a.createElement(q,{updateUser:this.updateUser})),n.a.createElement(b.a,{path:"/users",render:function(e){return n.a.createElement(z,e)}}),n.a.createElement(b.a,{path:"/reimbursement"}," ",n.a.createElement(q,{updateUser:this.updateUser})))),n.a.createElement("h2",null,this.state.loggedInUser?"":"Please login before proceeding."))}}]),r}(n.a.Component);r(80);c.a.render(n.a.createElement(A,null),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.4125febd.chunk.js.map